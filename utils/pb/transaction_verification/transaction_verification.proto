syntax = "proto3";

package transaction_verification;

service TransactionVerificationService {
  rpc VerifyTransaction (TransactionRequest) returns (TransactionResponse);
  rpc VerifyBooks (BooksRequest) returns (BooksResponse);
}

message TransactionRequest {
  string creditCardNumber = 1;
  string expiryDate = 2;
  map<string, int32> vectorClock = 3; 
  string orderId = 4;
}

message BooksRequest {
  repeated string books = 1; // List of book names
  map<string, int32> vectorClock = 2; 
  string orderId = 3;
}

// Responses
message BooksResponse {
  bool isValid = 1;
  map<string, int32> vectorClock = 2; 
}

message TransactionResponse {
  bool isValid = 1;
  string reason = 2; 
  map<string, int32> vectorClock = 3; 
}
